<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Other</title><link href=styles.css rel=stylesheet></head><body><div class=container><div class=sidebar><div class=menu-section><h3 class="menu-header active">Overview</h3><ul><li><a href=/>Overview</a></li><li><a href=/slaves.html>Slaves</a></li></ul></div><div class=menu-section><h3 class=menu-header>System</h3><ul><li><a href=/systems.html>System</a></li><li><a href=/modbus.html>Modbus</a></li><li><a href=/mqtt.html>MQTT</a></li><li><a href=/mapping.html>Mapping</a></li></ul></div><div class=menu-section><h3 class=menu-header>Network</h3><ul><li><a href=/wifi.html>WiFi</a></li><li><a href=/wan.html>WAN</a></li><li><a href=/lan.html>LAN</a></li></ul></div><div class=menu-section><h3 class=menu-header>Other</h3><ul><li><a class=active href=/other.html>Other</a></li></ul></div></div><div class=main-content><div class="content-section active" id=backup><h2>Other</h2><div class=backup-settings-content><div class=backup-block><h3>Backup</h3><div class=backup-row><a class="backup-btn green" href=/api/backup type=button>Generate backup</a></div></div><div class=backup-block><h3>Restore</h3><div class=backup-row><input class="backup-btn green" accept=.json id=restore_btn type=file></div></div><div class=backup-block><h3>Restart</h3><div class=backup-row><button class="backup-btn blue" id=restart_btn type=button>Restart</button></div></div><div class=backup-block><h3>Clear WiFi Credentials</h3><div class=backup-row><button class="backup-btn red" id=clear_btn type=button>Clear</button></div></div><div class=backup-block><h3>Flash new firmware image</h3><div class=backup-row><input class="backup-btn blue" accept=.bin id=flash_btn type=file></div></div></div></div></div></div></body><script>const HOST_IP=window.location.host;const restore_btn=document.getElementById(`restore_btn`);const restart_btn=document.getElementById(`restart_btn`);const clear_btn=document.getElementById(`clear_btn`);const flash_btn=document.getElementById(`flash_btn`);restart_btn.onclick=()=>{fetch(`http://${HOST_IP}/restart`,{method:`GET`}).then(a=>a.json()).then(a=>{alert(a.message)})};clear_btn.onclick=()=>{fetch(`http://${HOST_IP}/erase`,{method:`GET`}).then(a=>a.json()).then(a=>{alert(a.message)})};restore_btn.onchange=async()=>{const a=new FormData();a.append(`data`,restore_btn.files[0]);await fetch(`http://${HOST_IP}/api/restore`,{method:`POST`,body:a}).then(a=>a.json()).then(a=>{alert(a.message)})};flash_btn.onchange=async()=>{const a=new FormData();a.append(`update`,restore_btn.files[0]);await fetch(`http://${HOST_IP}/update`,{method:`POST`,body:a}).then(a=>a.json()).then(a=>{alert(a.message)})}</script></html>