<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>System</title><link href=styles.css rel=stylesheet></head><body><div class=container><div class=sidebar><div class=menu-section><h3 class="menu-header active">Overview</h3><ul><li><a href=/index.html>Overview</a></li><li><a href=/slaves.html>Slaves</a></li></ul></div><div class=menu-section><h3 class=menu-header>System</h3><ul><li><a href=/systems.html>System</a></li><li><a class=active href=/modbus.html>Modbus</a></li><li><a href=/mqtt.html>MQTT</a></li><li><a href=/mapping.html>Mapping</a></li></ul></div><div class=menu-section><h3 class=menu-header>Network</h3><ul><li><a href=/wifi.html>WiFi</a></li><li><a href=/wan.html>WAN</a></li><li><a href=/lan.html>LAN</a></li></ul></div><div class=menu-section><h3 class=menu-header>Other</h3><ul><li><a href=/other.html>Other</a></li></ul></div></div><div class=main-content><div class="content-section active" id=protocol><h2>MODBUS</h2><div class=serial-settings-content><form class="serial-form serial-basic-form" id=serial-basic-form><div class=serial-form-table><div class=serial-form-row><label>Baud Rate</label><select id=baudrate iotinput=int name=baudrate><option value=300>300</option><option value=600>600</option><option value=1200>1200</option><option value=2400>2400</option><option value=4800>4800</option><option selected value=9600>9600</option><option value=19200>19200</option><option value=38400>38400</option><option value=57600>57600</option><option value=115200>115200</option><option value=230400>230400</option></select></div><div class=serial-form-row><label>Data Bit</label><select id=databit iotinput=int name=databit><option value=7>7</option><option selected value=8>8</option></select></div><div class=serial-form-row><label>Stop Bit</label><select id=stopbit iotinput=int name=stopbit><option value=1>1</option><option selected value=2>2</option></select></div><div class=serial-form-row><label>Parity</label><select id=parity iotinput=int name=parity><option selected value=0>None</option><option value=2>Even</option><option value=3>Odd</option></select></div></div><div style="justify-content: flex-end;" class=button-group><button class=save-btn id=save_btn type=button>Save</button><button class=reset-btn id=reset_btn type=button>Reset</button></div></form></div></div></div></div></body><script>const HOST_IP=window.location.host;const baudrate=document.getElementById(`baudrate`);const databit=document.getElementById(`databit`);const stopbit=document.getElementById(`stopbit`);const parity=document.getElementById(`parity`);const save_btn=document.getElementById(`save_btn`);const reset_btn=document.getElementById(`reset_btn`);const loading=()=>{fetch(`http://${HOST_IP}/api/rtu`,{method:`GET`}).then(a=>a.json()).then(a=>{baudrate.value=a.baudrate;databit.value=a.databit;stopbit.value=a.stopbit;parity.value=a.parity})};reset_btn.onclick=()=>loading();save_btn.onclick=()=>{fetch(`http://${HOST_IP}/api/rtu`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({baudrate:baudrate.value,databit:databit.value,stopbit:stopbit.value,parity:parity.value})}).then(a=>a.json()).then(a=>{alert(a.message)})};loading()</script></html>