<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Network</title><link href=styles.css rel=stylesheet></head><body><div class=container><div class=sidebar><div class=menu-section><h3 class="menu-header active">Overview</h3><ul><li><a href=/>Overview</a></li><li><a href=/slaves.html>Slaves</a></li></ul></div><div class=menu-section><h3 class=menu-header>System</h3><ul><li><a href=/systems.html>System</a></li><li><a href=/modbus.html>Modbus</a></li><li><a href=/mqtt.html>MQTT</a></li><li><a href=/mapping.html>Mapping</a></li></ul></div><div class=menu-section><h3 class=menu-header>Network</h3><ul><li><a href=/wifi.html>WiFi</a></li><li><a class=active href=/wan.html>WAN</a></li><li><a href=/lan.html>LAN</a></li></ul></div><div class=menu-section><h3 class=menu-header>Other</h3><ul><li><a href=/other.html>Other</a></li></ul></div></div><div class=main-content><div class="content-section active" id=wan><h2>WAN</h2><div class=wan-settings-content><form class=wan-form><div class=wan-table><div class=wan-row><label>DHCP</label><input id=wan_dhcp type=checkbox></div><div class=wan-row><label>IP</label><input id=wan_ip type=text></div><div class=wan-row><label>Subnet Mask</label><input id=wan_mask type=text></div><div class=wan-row><label>Gateway</label><input id=wan_gateway type=text></div><div class=wan-row><label>DNS</label><input id=wan_dns type=text></div></div><div style="justify-content: flex-end;" class=button-group><button class=save-btn id=save_btn type=button>Save</button><button class=reset-btn id=reset_btn type=button>Reset</button></div></form></div></div></div></div></body><script>const HOST_IP=window.location.host;const wan_dhcp=document.getElementById(`wan_dhcp`);const wan_ip=document.getElementById(`wan_ip`);const wan_mask=document.getElementById(`wan_mask`);const wan_gateway=document.getElementById(`wan_gateway`);const wan_dns=document.getElementById(`wan_dns`);const save_btn=document.getElementById(`save_btn`);const reset_btn=document.getElementById(`reset_btn`);const loading=()=>{fetch(`http://${HOST_IP}/api/wan`,{method:`GET`}).then(a=>a.json()).then(a=>{wan_dhcp.checked=a.dhcp;wan_ip.value=a.ip;wan_mask.value=a.mask;wan_gateway.value=a.gw;wan_dns.value=a.dns})};reset_btn.onclick=()=>loading();save_btn.onclick=()=>{fetch(`http://${HOST_IP}/api/wan`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({dhcp:Boolean(wan_dhcp.checked),ip:wan_ip.value,mask:wan_mask.value,gw:wan_gateway.value,dns:wan_dns.value})}).then(a=>a.json()).then(a=>{alert(a.message)})};loading()</script></html>